<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62WNJKY2MC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-62WNJKY2MC');
</script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="metaTitle">Retenly — Stop Losing Clients</title>
  <meta name="description" data-i18n="metaDesc" content="Retenly helps bring back inactive clients, increase LTV and turn calls into trusted conversations. Free 30-day retention plan." />
  <meta name="theme-color" content="#0d0d0f" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#0d0d0f; --card:#141419; --accent:#f4d27a; --muted:#a9a9b2 }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(120deg,#0d0d0f,#141419,#2a2212,#0d0d0f);background-size:400% 400%;animation:grad 30s ease infinite;color:#fff;font-family:Manrope,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    @keyframes grad{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .wrap{max-width:1120px;margin:0 auto;padding:40px 20px;position:relative;z-index:2}
    header.hero{text-align:center;padding:56px 20px}
    h1{margin:0 0 14px;font:800 44px/1.1 Manrope;color:var(--accent)}
    h2{margin:0 0 14px;font:800 32px/1.15 Manrope;color:var(--accent)}
    h3{margin:0 0 10px;font:800 22px/1.2 Manrope}
    p{margin:0 0 14px;color:#e9e9ee}
    .btn{display:inline-block;border:none;cursor:pointer;background:linear-gradient(90deg,var(--accent),#d9ad5b);color:#111;padding:14px 20px;border-radius:12px;font-weight:800;text-decoration:none}
    section{padding:56px 0}
    .grid{display:grid;gap:20px}
    @media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}.grid-3{grid-template-columns:repeat(3,1fr)}}
    .tile{background:var(--card);border:1px solid rgba(244,210,122,.2);border-radius:16px;padding:18px}
    .muted{color:var(--muted)}
    .timer{display:flex;gap:12px;justify-content:center;margin:16px 0}
    .tbox{background:rgba(16,16,23,0.8);border:1px solid rgba(244,210,122,.25);border-radius:12px;padding:12px 14px;min-width:84px;text-align:center}
    .tbox strong{display:block;font:800 28px/1 Manrope;color:var(--accent)}
    .tbox span{font-size:12px;color:#cfcfd6}
    .card{background:var(--card);border:1px solid rgba(244,210,122,.2);border-radius:16px}
    form.form{padding:20px}
    label{display:block;font-size:12px;color:#e9e4d4;margin:6px 0}
    input,select,textarea{width:100%;background:#0e0e14;border:1px solid rgba(244,210,122,.25);color:#fff;border-radius:12px;padding:12px 14px;outline:none}
    input:focus,select:focus,textarea:focus{border-color:var(--accent)}
    .row{display:grid;gap:14px}
    @media(min-width:820px){.row.two{grid-template-columns:1fr 1fr}}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .cta{display:flex;align-items:center;justify-content:space-between;gap:18px;background:linear-gradient(90deg,rgba(244,210,122,.12),rgba(244,210,122,.02));border:1px solid rgba(244,210,122,.25);border-radius:16px;padding:18px}
    footer{padding:30px 0;color:#a9a9b2;text-align:center}
    dialog{border:none;border-radius:16px;max-width:560px;width:96%;padding:0;background:#121219;color:#fff}
    .modal-head{padding:16px 18px;border-bottom:1px solid rgba(244,210,122,.2)}
    .modal-body{padding:18px}
    .modal-actions{display:flex;gap:10px;justify-content:flex-end;padding:16px 18px;border-top:1px solid rgba(244,210,122,.2)}
    html { scroll-behavior: smooth; }
    /* language selector */
    .lang-wrap{position:fixed;top:18px;right:18px;z-index:9999;}
    .lang-select{
      background:rgba(10,10,12,0.85);
      color:#fff;
      border:1px solid rgba(244,210,122,.18);
      padding:8px 10px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      min-width:140px;
    }
    .lang-select select{
      background:transparent;border:none;color:#fff;font-weight:600;font-size:14px;outline:none;
      -webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;
    }
    /* dropdown options style (best-effort) */
    .lang-select select option{background:#141419;color:#fff}
    /* ensure content sits above animated background */
    .overlay-fade{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.25),rgba(0,0,0,0.35));pointer-events:none;z-index:1}
  </style>
</head>
<body>
  <div class="overlay-fade"></div>

  <!-- language selector (right top) -->
  <div class="lang-wrap" aria-hidden="false">
    <div class="lang-select" title="Select language">
      <select id="langSelector" aria-label="Select language">
        <option value="en">English</option>
        <option value="de">Deutsch</option>
        <option value="pl">Polski</option>
        <option value="fr">Français</option>
        <option value="ru">Русский</option>
      </select>
    </div>
  </div>

  <!-- HERO -->
  <header class="hero wrap">
    <h1 data-i18n="hero.title">Перестаёте терять клиентов — начинаете расти</h1>
    <p class="muted" data-i18n="hero.subtitle" style="max-width:760px;margin:0 auto 14px">
      Приглашаем вас на бесплатный вебинар. Поговорим честно и без заученных скриптов: как сделать так, чтобы клиенты доверяли, рекомендовали и возвращались.
    </p>
    <div id="countdown" class="timer" aria-label="Счётчик до начала"></div>
    <p id="date-hint" class="muted" data-i18n="hero.dateHint"></p>
    <a id="webinarLink" href="https://docs.google.com/forms/d/e/1FAIpQLSdm16SyvDfSAeD7TTn3gdTkLQhBY0u-XrrxfSyW63B-FDxkXg/viewform?usp=dialog" class="btn" target="_blank" data-i18n="hero.registerBtn">Регистрация на вебинар</a>
  </header>

  <main class="wrap">
    <!-- СИТУАЦИЯ / ПРОБЛЕМА / ПОСЛЕДСТВИЯ -->
    <section class="grid grid-3" aria-label="problems">
      <div class="tile"><h3 data-i18n="situation.title">Ситуация</h3><p data-i18n="situation.text">Каждый месяц бизнес теряет до 30% клиентов. Игроки засыпают, повторные сделки падают.</p></div>
      <div class="tile"><h3 data-i18n="problem.title">Проблема</h3><p data-i18n="problem.text">Звонки звучат как допрос. Холодные не конвертят, тёплые не закрывают. Скрипты устарели.</p></div>
      <div class="tile"><h3 data-i18n="consequences.title">Последствия</h3><p data-i18n="consequences.text">Ежедневные потери депозитов и LTV. Фактически вы спонсируете рекламу конкурентов.</p></div>
    </section>

    <!-- РЕШЕНИЕ -->
    <section>
      <h2 data-i18n="solution.title">Решение от Retenly</h2>
      <div class="grid grid-3">
        <div class="tile"><h3 data-i18n="solution.zeroContact">Нулевой контакт</h3><p data-i18n="solution.zeroContactText">Начало разговора, который хочется продолжить. Без барьеров и заученных фраз.</p></div>
        <div class="tile"><h3 data-i18n="solution.hearPain">Слышать боль</h3><p data-i18n="solution.hearPainText">Диагностика вместо борьбы с «возражениями». Клиент чувствует заботу, а не давление.</p></div>
        <div class="tile"><h3 data-i18n="solution.needs">Потребности</h3><p data-i18n="solution.needsText">Не «что продать», а «какую задачу решить» и «какой результат важен».</p></div>
        <div class="tile"><h3 data-i18n="solution.money">Финансы без стеснения</h3><p data-i18n="solution.moneyText">Бюджет, выгоды и окупаемость — спокойно и прозрачно, чтобы ценность была очевидна.</p></div>
        <div class="tile"><h3 data-i18n="solution.vip">VIP-удержание</h3><p data-i18n="solution.vipText">Долгие отношения вместо разовых сделок. Персональные касания и SLA.</p></div>
        <div class="tile"><h3 data-i18n="solution.analytics">Аналитика KPI</h3><p data-i18n="solution.analyticsText">NGGR, LTV, Retention в понятных дашбордах. Контроль эффекта каждый день.</p></div>
      </div>
    </section>

    <!-- УСЛУГИ -->
    <section id="services">
      <h2 data-i18n="services.title">Услуги Retenly для роста продаж</h2>
      <p class="muted" data-i18n="services.subtitle" style="margin-bottom:14px">Выбирайте точечно или заходите комплексно — закроем как обучение, так и процессы и аутсорс.</p>

      <!-- Обучение и развитие -->
      <div class="tile" style="margin-bottom:14px">
        <h3 data-i18n="services.training">Обучение и развитие команды</h3>
        <div class="grid grid-3">
          <div class="tile"><strong data-i18n="svc.coldCalls.title">Холодные звонки</strong><p class="muted" data-i18n="svc.coldCalls.text">Структура, крючки, проход секретаря, 20 секунд внимания.</p></div>
          <div class="tile"><strong data-i18n="svc.warmCalls.title">Тёплые звонки</strong><p class="muted" data-i18n="svc.warmCalls.text">Диалог без давления, soft close, возврат и дожим.</p></div>
          <div class="tile"><strong data-i18n="svc.objections.title">Работа с возражениями</strong><p class="muted" data-i18n="svc.objections.text">Метод диагностики вместо спора, превращаем «нет» в «да».</p></div>
          <div class="tile"><strong data-i18n="svc.phoneSales.title">Продажи по телефону</strong><p class="muted" data-i18n="svc.phoneSales.text">Call-центр: темп, тон, контроль качества (QA).</p></div>
          <div class="tile"><strong data-i18n="svc.videoSales.title">Продажи по видео/Zoom</strong><p class="muted" data-i18n="svc.videoSales.text">Структура видеозвонка, визуальные опоры, закрытие.</p></div>
          <div class="tile"><strong data-i18n="svc.improv.title">Импровизация со скриптами</strong><p class="muted" data-i18n="svc.improv.text">Гибрид: сценарий + живой разговор, чтобы звучать естественно.</p></div>
        </div>
      </div>

      <!-- Процессы и системы -->
      <div class="tile" style="margin-bottom:14px">
        <h3 data-i18n="services.processes">Создание и настройка процессов</h3>
        <div class="grid grid-3">
          <div class="tile"><strong data-i18n="proc.scripts.title">Написание скриптов</strong><p class="muted" data-i18n="proc.scripts.text">Под вашу нишу и ГЕО: холодные/тёплые, VIP, апсейл/кросс-сейл.</p></div>
          <div class="tile"><strong data-i18n="proc.salesDept.title">Отдел продаж под ключ</strong><p class="muted" data-i18n="proc.salesDept.text">Роли, мотивация, регламенты, найм и онбординг.</p></div>
          <div class="tile"><strong data-i18n="proc.crm.title">CRM и автоматизация</strong><p class="muted" data-i18n="proc.crm.text">Воронки, триггеры, интеграции с мессенджерами.</p></div>
          <div class="tile"><strong data-i18n="proc.kpi.title">KPI и аналитика</strong><p class="muted" data-i18n="proc.kpi.text">Конверсия, LTV, CAC, Retention, NGGR в дашбордах.</p></div>
          <div class="tile"><strong data-i18n="proc.qa.title">QA-контур</strong><p class="muted" data-i18n="proc.qa.text">Сквозной контроль качества: чек-листы, разборы звонков.</p></div>
          <div class="tile"><strong data-i18n="proc.chatScripts.title">Скрипты для чатов</strong><p class="muted" data-i18n="proc.chatScripts.text">WhatsApp, Telegram, LINE, Zalo — единый голос бренда.</p></div>
        </div>
      </div>

      <!-- Аутсорс и консалтинг -->
      <div class="tile" style="margin-bottom:14px">
        <h3 data-i18n="services.outsource">Аутсорс и консалтинг</h3>
        <div class="grid grid-3">
          <div class="tile"><strong data-i18n="out.sourceDept.title">Аутсорс отдела продаж</strong><p class="muted" data-i18n="out.sourceDept.text">Быстрый старт без расширения штата, платёж за результат.</p></div>
          <div class="tile"><strong data-i18n="out.callCenter.title">Аутсорс колл-центра</strong><p class="muted" data-i18n="out.callCenter.text">Входящие/исходящие, SLA, отчёты ежедневно.</p></div>
          <div class="tile"><strong data-i18n="out.vip.title">VIP-удержание</strong><p class="muted" data-i18n="out.vip.text">Персональные стратегии возврата и развития клиентов.</p></div>
          <div class="tile"><strong data-i18n="out.consult.title">Стратегический консалтинг</strong><p class="muted" data-i18n="out.consult.text">Диагностика воронки, план роста на 30/90 дней.</p></div>
          <div class="tile"><strong data-i18n="out.audit.title">Аудит отдела продаж</strong><p class="muted" data-i18n="out.audit.text">Проблемы, потери, рекомендации и Roadmap внедрения.</p></div>
          <div class="tile"><strong data-i18n="out.leaders.title">Лидеры и тимлиды</strong><p class="muted" data-i18n="out.leaders.text">Подготовка руководителей, управление темпом и качеством.</p></div>
        </div>
      </div>

      <!-- Дополнительно -->
      <div class="tile">
        <h3 data-i18n="services.additional">Дополнительно</h3>
        <div class="grid grid-3">
          <div class="tile"><strong data-i18n="add.videoScripts.title">Видео-скрипты и презентации</strong><p class="muted" data-i18n="add.videoScripts.text">Сценарии под демо/питчи и самопродажи.</p></div>
          <div class="tile"><strong data-i18n="add.email.title">Email-маркетинг</strong><p class="muted" data-i18n="add.email.text">Серии писем под реактивацию и апсейл.</p></div>
          <div class="tile"><strong data-i18n="add.partner.title">Партнёрские программы</strong><p class="muted" data-i18n="add.partner.text">Рефералки, апсейл/кросс-сейл, промо-скрипты.</p></div>
        </div>
      </div>

      <div class="cta" style="margin-top:16px">
        <strong data-i18n="cta.ask">Нужен быстрый старт? Оставьте заявку — подберём набор услуг под ваши цели.</strong>
        <a href="#lead" class="btn" data-i18n="cta.discuss">Обсудить проект</a>
      </div>
    </section>

    <section id="register" class="grid grid-2" aria-labelledby="reg-title">
      <div class="card form" style="padding:20px">
        <h2 id="reg-title" style="margin-bottom:4px" data-i18n="form.title">Получить бесплатный план удержания</h2>
        <p class="muted" data-i18n="form.subtitle" style="margin-bottom:12px">Пришлём PDF на 30 дней с шагами внедрения и KPI. Ни спама, ни «продаж в лоб».</p>
        <form id="lead" class="form"
      action="https://script.google.com/macros/s/AKfycbxcjAtOLuN2ho1Az2Y2PwOABQPIBaMZKkWkU5PTBw0tA6S_MncVFc2-F2kInXNKzxun/exec"
      method="POST"
      accept-charset="UTF-8"
      autocomplete="on">
          <input type="text" name="_hp" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;opacity:0" aria-hidden="true">
          <div class="row two">
            <div>
              <label for="name" data-i18n="form.nameLabel">Имя</label>
              <input id="name" name="name" required placeholder="" data-i18n-placeholder="form.namePlaceholder">
            </div>
            <div>
              <label for="company" data-i18n="form.companyLabel">Компания</label>
              <input id="company" name="company" placeholder="" data-i18n-placeholder="form.companyPlaceholder">
            </div>
          </div>
          <div class="row two">
            <div>
              <label for="email" data-i18n="form.emailLabel">Email</label>
              <input id="email" name="email" type="email" required placeholder="you@company.com" inputmode="email">
            </div>
            <div>
              <label for="phone" data-i18n="form.phoneLabel">Телефон</label>
              <input id="phone" name="phone" type="tel" placeholder="+7 000 000-00-00" inputmode="tel" pattern="[+0-9\\s()\\-]{7,}">
            </div>
          </div>
          <div class="row">
            <div>
              <label for="interest" data-i18n="form.interestLabel">Что важнее сейчас</label>
              <select id="interest" name="interest">
                <option data-i18n="opt.return">Вернуть спящих клиентов</option>
                <option data-i18n="opt.increaseLTV">Увеличить LTV</option>
                <option data-i18n="opt.calls">Наладить звонки без давления</option>
                <option data-i18n="opt.vip">VIP-удержание</option>
                <option data-i18n="opt.cold">Холодные звонки</option>
                <option data-i18n="opt.warm">Тёплые звонки</option>
                <option data-i18n="opt.objections">Работа с возражениями</option>
                <option data-i18n="opt.phoneSales">Продажи по телефону</option>
                <option data-i18n="opt.videoSales">Продажи по видео/Zoom</option>
                <option data-i18n="opt.improv">Импровизация со скриптами</option>
                <option data-i18n="opt.writeScripts">Написание скриптов</option>
                <option data-i18n="opt.fullDept">Отдел продаж под ключ</option>
                <option data-i18n="opt.crm">CRM и автоматизация</option>
                <option data-i18n="opt.kpi">KPI и аналитика</option>
                <option data-i18n="opt.qa">QA-контур</option>
                <option data-i18n="opt.chatScripts">Скрипты для чатов</option>
                <option data-i18n="opt.outsourceSales">Аутсорс отдела продаж</option>
                <option data-i18n="opt.outsourceCC">Аутсорс колл-центра</option>
                <option data-i18n="opt.consulting">Стратегический консалтинг</option>
                <option data-i18n="opt.audit">Аудит отдела продаж</option>
                <option data-i18n="opt.leaders">Лидеры и тимлиды</option>
                <option data-i18n="opt.videoScripts">Видео-скрипты и презентации</option>
                <option data-i18n="opt.email">Email-маркетинг</option>
                <option data-i18n="opt.partners">Партнёрские программы</option>
              </select>
            </div>
          </div>
          <p class="muted" style="font-size:12px"><input id="agree" name="consent" type="checkbox" required style="accent-color:#f4d27a;margin-right:6px"><label for="agree" data-i18n="form.consent">Соглашаюсь на обработку данных и получение напоминаний</label></p>
          <div class="actions">
            <button class="btn" type="button" id="previewBtn" data-i18n="form.preview">Предпросмотр заявки</button>
            <button class="btn" type="submit" data-i18n="form.submit">Отправить</button>
            <button class="btn" type="button" id="ics" data-i18n="form.ics">Добавить в календарь вебинар</button>
          </div>
          <p id="form-hint" class="muted" style="margin-top:8px"></p>
        </form>
      </div>
      <div>
        <div class="cta">
          <div>
            <h3 data-i18n="audit.title" style="margin:0 0 6px">Хотите увидеть, сколько клиентов можно вернуть в этом месяце?</h3>
            <p class="muted" data-i18n="audit.text" style="margin:0">Запросите бесплатный аудит. Получите цифры потерь и точки роста за 24 часа.</p>
          </div>
          <a href="#lead" class="btn" data-i18n="audit.btn">Запросить аудит</a>
        </div>
        <div class="tile" style="margin-top:14px">
          <h3 data-i18n="whatyouget.title" style="margin-bottom:6px">Что получаете</h3>
          <ul class="muted" style="margin:0 0 0 18px;padding:0">
            <li data-i18n="whatyouget.pdf">PDF-план на 30 дней</li>
            <li data-i18n="whatyouget.scripts">Скрипты доверительных звонков</li>
            <li data-i18n="whatyouget.kpi">Дашборд KPI: Retention, LTV, NGGR</li>
          </ul>
        </div>
      </div>
    </section>

    <section>
      <div class="cta">
        <strong data-i18n="finalCTA">Готовы перестать терять клиентов?</strong>
        <a href="#lead" class="btn" data-i18n="finalCTABtn">Получить план удержания</a>
      </div>
    </section>
  </main>

  <footer class="wrap">
    <small class="muted">© 2025 Retenly. <a href="#" style="color:var(--accent);text-decoration:none" data-i18n="privacy">Политика конфиденциальности</a></small>
  </footer>

  <!-- Модал предпросмотра -->
  <dialog id="previewModal">
    <div class="modal-head"><strong data-i18n="preview.title">Предпросмотр заявки</strong></div>
    <div class="modal-body">
      <div class="tile" style="margin:0">
        <p><strong data-i18n="preview.name">Имя:</strong> <span id="pv_name"></span></p>
        <p><strong data-i18n="preview.company">Компания:</strong> <span id="pv_company"></span></p>
        <p><strong data-i18n="preview.email">Email:</strong> <span id="pv_email"></span></p>
        <p><strong data-i18n="preview.phone">Телефон:</strong> <span id="pv_phone"></span></p>
        <p><strong data-i18n="preview.interest">Интерес:</strong> <span id="pv_interest"></span></p>
      </div>
    </div>
    <div class="modal-actions">
      <button class="btn" id="editBtn" type="button" data-i18n="preview.edit">Изменить</button>
      <button class="btn" id="confirmBtn" type="button" data-i18n="preview.confirm">Подтвердить и отправить</button>
    </div>
  </dialog>

  <div id="toast" style="position:fixed;left:50%;bottom:22px;transform:translateX(-50%) scale(.96);opacity:0;transition:.3s;background:#121219;border:1px solid rgba(244,210,122,.3);color:#fff;padding:10px 14px;border-radius:12px;z-index:50" data-i18n="toast">Готово</div>

  <script>
    // ===== SETTINGS =====
    const STORAGE_KEY = 'retenly_lang';
    // Timer target: 6 Dec 2025 18:00 GMT+3 (as requested)
    const TIMER_TARGET_ISO = "2025-12-06T18:00:00+03:00";

    // ===== TRANSLATIONS =====
    const translations = {
      en: {
        metaTitle: "Retenly — Stop Losing Clients",
        metaDesc: "Retenly helps bring back inactive clients, increase LTV and turn calls into trusted conversations. Free 30-day retention plan.",
        hero: {
          title: "Stop Losing Clients — Start Growing",
          subtitle: "Join our free webinar. We'll talk honestly — how to make clients trust, recommend and return.",
          registerBtn: "Register for the Webinar",
          dateHint: "Next start: December 6, 2025"
        },
        situation: { title: "Situation", text: "Every month businesses lose up to 30% of clients. Players go silent, repeat deals drop." },
        problem: { title: "Problem", text: "Calls sound like interrogations. Cold leads don't convert, warm leads don't close. Scripts are outdated." },
        consequences: { title: "Consequences", text: "Daily losses in deposits and LTV. You're effectively funding competitors' ads." },
        solution: {
          title: "Retenly solution",
          zeroContact: "Zero contact",
          zeroContactText: "Start a conversation people want to continue. No barriers or rote lines.",
          hearPain: "Hear the pain",
          hearPainText: "Diagnosis instead of fighting objections. Clients feel cared for, not pressured.",
          needs: "Needs",
          needsText: "Not 'what to sell' but 'what problem to solve' and 'what result matters'.",
          money: "Finances without awkwardness",
          moneyText: "Budget, ROI and payback — calmly and transparently.",
          vip: "VIP retention",
          vipText: "Long relationships instead of one-offs. Personal touches and SLAs.",
          analytics: "KPI analytics",
          analyticsText: "NGGR, LTV, Retention in clear dashboards. Daily effect monitoring."
        },
        services: {
          title: "Retenly services to grow sales",
          subtitle: "Pick a la carte or go full — we cover training, processes and outsourcing.",
          training: "Team training & development",
          processes: "Process creation & automation",
          outsource: "Outsource & consulting",
          additional: "Additional"
        },
        svc: {
          coldCalls: { title: "Cold calls", text: "Structure, hooks, gatekeeper pass, 20 seconds of attention."},
          warmCalls: { title: "Warm calls", text: "Pressure-free dialogue, soft close, reactivation and push."},
          objections: { title: "Handling objections", text: "Diagnosis method instead of argument — turn 'no' into 'yes'."},
          phoneSales: { title: "Phone sales", text: "Call center: rhythm, tone, quality control (QA)."},
          videoSales: { title: "Video/Zoom sales", text: "Video call structure, visual aids, closing."},
          improv: { title: "Script improv", text: "Hybrid: script + live talk to sound natural."}
        },
        proc: {
          scripts: { title: "Script writing", text: "Tailored for your niche and GEO."},
          salesDept: { title: "Sales department turnkey", text: "Roles, motivation, regs, hiring and onboarding."},
          crm: { title: "CRM & automation", text: "Funnels, triggers, messenger integrations."},
          kpi: { title: "KPI & analytics", text: "Conversion, LTV, CAC, Retention, NGGR in dashboards."},
          qa: { title: "QA loop", text: "End-to-end quality control: checklists, call reviews."},
          chatScripts: { title: "Chat scripts", text: "WhatsApp, Telegram, LINE, Zalo — single brand voice."}
        },
        out: {
          sourceDept: { title: "Sales outsourcing", text: "Fast start without headcount increase, pay-for-results."},
          callCenter: { title: "Call center outsourcing", text: "Inbound/outbound, SLA, daily reports."},
          vip: { title: "VIP retention", text: "Personal reactivation and growth strategies."},
          consult: { title: "Strategic consulting", text: "Funnel diagnosis, 30/90-day growth plan."},
          audit: { title: "Sales audit", text: "Problems, losses, recommendations and implementation roadmap."},
          leaders: { title: "Leaders & team leads", text: "Leader preparation, pace & quality management."}
        },
        add: {
          videoScripts: { title: "Video scripts & decks", text: "Demos, pitches and self-selling scripts."},
          email: { title: "Email marketing", text: "Reactivation & upsell sequences."},
          partner: { title: "Partner programs", text: "Referrals, upsell/cross-sell, promo scripts."}
        },
        cta: { ask: "Need a quick start? Leave a request — we'll pick a package for your goals.", discuss: "Discuss project" },
        form: {
          title: "Get a free 30-day retention plan",
          subtitle: "We will send a 30-day PDF with steps and KPIs. No spam, no hard selling.",
          nameLabel: "Name", namePlaceholder: "How should we call you",
          companyLabel: "Company", companyPlaceholder: "Company name",
          emailLabel: "Email", phoneLabel: "Phone",
          interestLabel: "What's most important now",
          consent: "I agree to data processing and receive reminders",
          preview: "Preview request", submit: "Send", ics: "Add webinar to calendar"
        },
        audit: { title: "Want to see how many clients can be recovered this month?", text: "Request a free audit. Get loss numbers and growth points within 24 hours.", btn: "Request audit" },
        whatyouget: { title: "What you get", pdf: "30-day PDF plan", scripts: "Trust-call scripts", kpi: "KPI dashboard: Retention, LTV, NGGR" },
        finalCTA: "Ready to stop losing clients?",
        finalCTABtn: "Get retention plan",
        privacy: "Privacy policy",
        preview: { title: "Preview request", name: "Name:", company: "Company:", email: "Email:", phone: "Phone:", interest: "Interest:", edit: "Edit", confirm: "Confirm & send" },
        toast: "Done",
        // timer labels
        days: "days", hours: "hours", minutes: "minutes", seconds: "seconds",
        dateHint: "Next start: December 6, 2025"
      },

      de: {
        metaTitle: "Retenly — Verlust von Kunden stoppen",
        metaDesc: "Retenly hilft, inaktive Kunden zurückzugewinnen, LTV zu erhöhen und Anrufe in vertrauensvolle Gespräche zu verwandeln. Kostenloser 30-Tage-Retentionsplan.",
        hero: {
          title: "Hören Sie auf, Kunden zu verlieren — wachsen Sie",
          subtitle: "Nehmen Sie an unserem kostenlosen Webinar teil. Wir sprechen offen darüber, wie Sie Vertrauen aufbauen und Kunden zurückgewinnen.",
          registerBtn: "Für das Webinar registrieren",
          dateHint: "Nächster Start: 6. Dezember 2025"
        },
        situation: { title: "Situation", text: "Jeden Monat verlieren Unternehmen bis zu 30% der Kunden. Spieler werden inaktiv, Wiederholungsgeschäfte sinken." },
        problem: { title: "Problem", text: "Anrufe klingen wie Verhöre. Kalte Leads konvertieren nicht, warme schließen nicht. Skripte sind veraltet." },
        consequences: { title: "Folgen", text: "Tägliche Verluste bei Einzahlungen und LTV. Sie finanzieren effektiv die Werbung der Konkurrenz." },
        solution: {
          title: "Retenly-Lösung",
          zeroContact: "Zero Contact",
          zeroContactText: "Beginnen Sie ein Gespräch, das man fortsetzen möchte. Keine Barrieren oder auswendig gelernten Sätze.",
          hearPain: "Den Schmerz hören",
          hearPainText: "Diagnose statt Auseinandersetzung mit Einwänden. Kunden fühlen sich betreut, nicht unter Druck gesetzt.",
          needs: "Bedürfnisse",
          needsText: "Nicht 'was verkaufen', sondern 'welches Problem lösen' und 'welches Ergebnis zählt'.",
          money: "Finanzen ohne Verlegenheit",
          moneyText: "Budget, Nutzen und Amortisation — klar und transparent.",
          vip: "VIP-Retention",
          vipText: "Langfristige Beziehungen statt einmaliger Abschlüsse.",
          analytics: "KPI-Analyse",
          analyticsText: "NGGR, LTV, Retention in klaren Dashboards. Tägliche Überwachung."
        },
        services: {
          title: "Retenly-Services für Umsatzwachstum",
          subtitle: "Wählen Sie einzeln oder umfassend — wir decken Training, Prozesse und Outsourcing ab.",
          training: "Training & Entwicklung",
          processes: "Prozessaufbau & Automatisierung",
          outsource: "Outsourcing & Beratung",
          additional: "Zusätzlich"
        },
        svc: {
          coldCalls: { title: "Kaltakquise", text: "Struktur, Hooks, Gatekeeper-Bypass, 20 Sekunden Aufmerksamkeit."},
          warmCalls: { title: "Warme Anrufe", text: "Druckfreier Dialog, Soft Close, Reaktivierung."},
          objections: { title: "Umgang mit Einwänden", text: "Diagnose statt Streit — 'nein' in 'ja' verwandeln."},
          phoneSales: { title: "Telefonverkauf", text: "Callcenter: Tempo, Ton, Qualitätskontrolle (QA)."},
          videoSales: { title: "Verkauf per Video/Zoom", text: "Struktur, visuelle Hilfen, Abschluss."},
          improv: { title: "Script-Improv", text: "Hybrid: Skript + echtes Gespräch."}
        },
        proc: {
          scripts: { title: "Skript-Erstellung", text: "Für Ihre Nische und GEO zugeschnitten."},
          salesDept: { title: "Vertriebsabteilung schlüsselfertig", text: "Rollen, Motivation, Regelwerke, Einstellung & Onboarding."},
          crm: { title: "CRM & Automatisierung", text: "Funnels, Trigger, Integrationen."},
          kpi: { title: "KPI & Analyse", text: "Conversion, LTV, CAC, Retention, NGGR."},
          qa: { title: "QA-Kontur", text: "End-to-End-Qualitätskontrolle."},
          chatScripts: { title: "Chat-Skripte", text: "WhatsApp, Telegram, LINE, Zalo — einheitliche Stimme."}
        },
        out: {
          sourceDept: { title: "Vertriebs-Outsourcing", text: "Schneller Start ohne Personalaufbau."},
          callCenter: { title: "Callcenter-Outsourcing", text: "Inbound/Outbound, SLA, tägliche Reports."},
          vip: { title: "VIP-Retention", text: "Personalisierte Reaktivierung."},
          consult: { title: "Strategische Beratung", text: "Funnel-Diagnose, 30/90-Tage-Plan."},
          audit: { title: "Vertriebs-Audit", text: "Probleme, Verluste, Empfehlungen."},
          leaders: { title: "Leiter & Teamleads", text: "Vorbereitung von Führungskräften."}
        },
        add: {
          videoScripts: { title: "Video-Skripte & Präsentationen", text: "Demos, Pitches."},
          email: { title: "E-Mail-Marketing", text: "Reaktivierungsstrecken."},
          partner: { title: "Partnerprogramme", text: "Referral, Upsell/Cross-sell."}
        },
        cta: { ask: "Brauchen Sie einen schnellen Start? Hinterlassen Sie eine Anfrage — wir wählen ein Paket.", discuss: "Projekt besprechen" },
        form: {
          title: "Kostenlosen 30-Tage-Retention-Plan erhalten",
          subtitle: "PDF mit 30 Tagen, Schritten und KPIs.",
          nameLabel: "Name", namePlaceholder: "Wie sollen wir Sie nennen",
          companyLabel: "Firma", companyPlaceholder: "Firmenname",
          emailLabel: "E-Mail", phoneLabel: "Telefon",
          interestLabel: "Was ist jetzt am wichtigsten",
          consent: "Ich stimme der Verarbeitung zu und erhalte Erinnerungen",
          preview: "Anfragevorschau", submit: "Senden", ics: "Zum Kalender hinzufügen"
        },
        audit: { title: "Wollen Sie sehen, wie viele Kunden sich diesen Monat zurückgewinnen lassen?", text: "Fordern Sie ein kostenloses Audit an." , btn: "Audit anfordern" },
        whatyouget: { title: "Was Sie bekommen", pdf: "30-Tage-PDF-Plan", scripts: "Vertrauens-Skripte", kpi: "KPI-Dashboard: Retention, LTV, NGGR" },
        finalCTA: "Bereit, aufzuhören Kunden zu verlieren?",
        finalCTABtn: "Retention-Plan erhalten",
        privacy: "Datenschutz",
        preview: { title: "Anfragevorschau", name: "Name:", company: "Firma:", email: "E-Mail:", phone: "Telefon:", interest: "Interesse:", edit: "Bearbeiten", confirm: "Bestätigen & Senden" },
        toast: "Erledigt",
        days: "Tage", hours: "Stunden", minutes: "Minuten", seconds: "Sekunden",
        dateHint: "Nächster Start: 6. Dezember 2025"
      },

      pl: {
        metaTitle: "Retenly — Przestań tracić klientów",
        metaDesc: "Retenly pomaga odzyskać nieaktywnych klientów, zwiększyć LTV i zamienić rozmowy w zaufane dialogi.",
        hero: {
          title: "Przestań tracić klientów — zacznij rosnąć",
          subtitle: "Dołącz do naszego bezpłatnego webinaru. Porozmawiamy szczerze o budowaniu zaufania i utrzymaniu klientów.",
          registerBtn: "Zarejestruj się na webinar",
          dateHint: "Najbliższy start: 6 grudnia 2025 r."
        },
        situation: { title: "Sytuacja", text: "Każdego miesiąca firmy tracą do 30% klientów. Gracze zasypiają, powtarzalne transakcje spadają." },
        problem: { title: "Problem", text: "Rozmowy brzmią jak przesłuchania. Zimne leady nie konwertują, ciepłe nie zamykają. Skrypty są przestarzałe." },
        consequences: { title: "Konsekwencje", text: "Codzienne straty depozytów i LTV. W praktyce finansujesz reklamy konkurencji." },
        solution: {
          title: "Rozwiązanie Retenly",
          zeroContact: "Zero contact",
          zeroContactText: "Rozpocznij rozmowę, którą chcą kontynuować. Bez barier i wyuczonych fraz.",
          hearPain: "Usłysz ból",
          hearPainText: "Diagnostyka zamiast walki z obiekcjami. Klient czuje opiekę, nie presję.",
          needs: "Potrzeby",
          needsText: "Nie 'co sprzedać', a 'jaki problem rozwiązać' i 'jaki wynik się liczy'.",
          money: "Finanse bez zażenowania",
          moneyText: "Budżet, korzyści i zwrot — spokojnie i przejrzyście.",
          vip: "Utrzymanie VIP",
          vipText: "Długie relacje zamiast jednorazowych transakcji.",
          analytics: "Analiza KPI",
          analyticsText: "NGGR, LTV, Retention w czytelnych dashboardach."
        },
        services: {
          title: "Usługi Retenly dla wzrostu sprzedaży",
          subtitle: "Wybierz punktowo lub kompleksowo — zamkniemy szkolenia, procesy i outsourcing.",
          training: "Szkolenia i rozwój zespołu",
          processes: "Tworzenie i ustawienia procesów",
          outsource: "Outsourcing i konsulting",
          additional: "Dodatkowo"
        },
        svc: {
          coldCalls: { title: "Zimne rozmowy", text: "Struktura, haczyki, przejście sekretarki, 20 sekund uwagi."},
          warmCalls: { title: "Ciepłe rozmowy", text: "Dialog bez presji, soft close, reaktywacja i dociśnięcie."},
          objections: { title: "Praca z obiekcjami", text: "Metoda diagnostyczna zamiast kłótni."},
          phoneSales: { title: "Sprzedaż telefoniczna", text: "Call center: tempo, ton, kontrola jakości (QA)."},
          videoSales: { title: "Sprzedaż przez wideo/Zoom", text: "Struktura rozmowy, wsparcie wizualne, zamknięcie."},
          improv: { title: "Improwizacja ze skryptami", text: "Hybryda: scenariusz + żywa rozmowa."}
        },
        proc: { /* podobnie jak powyżej; skrócone dla czytelności */ },
        out: { /* ... */ },
        add: { /* ... */ },
        cta: { ask: "Potrzebujesz szybkiego startu? Zostaw zgłoszenie — dobierzemy pakiet.", discuss: "Omówić projekt" },
        form: {
          title: "Otrzymaj darmowy plan na 30 dni",
          subtitle: "Wyślemy PDF z 30 dniami kroków i KPI.",
          nameLabel: "Imię", namePlaceholder: "Jak się do Ciebie zwracać",
          companyLabel: "Firma", companyPlaceholder: "Nazwa firmy",
          emailLabel: "Email", phoneLabel: "Telefon",
          interestLabel: "Co jest teraz najważniejsze",
          consent: "Zgadzam się na przetwarzanie danych i otrzymanie przypomnień",
          preview: "Podgląd zgłoszenia", submit: "Wyślij", ics: "Dodaj do kalendarza"
        },
        audit: { title: "Chcesz zobaczyć, ile klientów można odzyskać w tym miesiącu?", text: "Zamów darmowy audit.", btn: "Zamów audit" },
        whatyouget: { title: "Co otrzymasz", pdf: "Plan PDF na 30 dni", scripts: "Skrypty zaufania", kpi: "Dashboard KPI" },
        finalCTA: "Gotowy przestać tracić klientów?",
        finalCTABtn: "Otrzymać plan",
        privacy: "Polityka prywatności",
        preview: { title: "Podgląd zgłoszenia", name: "Imię:", company: "Firma:", email: "Email:", phone: "Telefon:", interest: "Zainteresowanie:", edit: "Edytuj", confirm: "Potwierdź i wyślij" },
        toast: "Gotowe",
        days: "dni", hours: "godz.", minutes: "min", seconds: "sek",
        dateHint: "Najbliższy start: 6 grudnia 2025 r."
      },

      fr: {
        metaTitle: "Retenly — Arrêtez de perdre des clients",
        metaDesc: "Retenly aide à récupérer les clients inactifs, augmenter le LTV et transformer les appels en conversations de confiance.",
        hero: {
          title: "Arrêtez de perdre des clients — commencez à croître",
          subtitle: "Rejoignez notre webinaire gratuit. Nous parlerons franchement de la fidélisation.",
          registerBtn: "S'inscrire au webinaire",
          dateHint: "Prochain départ : 6 décembre 2025"
        },
        situation: { title: "Situation", text: "Chaque mois, les entreprises perdent jusqu'à 30% des clients." },
        problem: { title: "Problème", text: "Les appels sonnent comme des interrogatoires. Les scripts sont dépassés." },
        consequences: { title: "Conséquences", text: "Pertes quotidiennes de dépôts et de LTV." },
        solution: {
          title: "Solution Retenly",
          zeroContact: "Zero contact",
          zeroContactText: "Commencez une conversation que l'on veut poursuivre.",
          hearPain: "Écouter la douleur",
          hearPainText: "Diagnostic plutôt que confrontation.",
          needs: "Besoins",
          needsText: "Quelle tâche résoudre, quel résultat importe.",
          money: "Finances sans gêne",
          moneyText: "Budget, bénéfices et ROI — clair et transparent.",
          vip: "Rétention VIP",
          vipText: "Relations longues au lieu d'opérations ponctuelles.",
          analytics: "Analytique KPI",
          analyticsText: "NGGR, LTV, Retention dans des tableaux clairs."
        },
        services: { title: "Services Retenly", subtitle: "Choisissez à la carte ou globalement." },
        svc: {/* ... */},
        proc: {/* ... */},
        out: {/* ... */},
        add: {/* ... */},
        cta: { ask: "Besoin d'un démarrage rapide ? Laissez une demande.", discuss: "Discuter du projet" },
        form: {
          title: "Recevez un plan de rétention gratuit de 30 jours",
          subtitle: "Nous enverrons un PDF de 30 jours avec étapes et KPI.",
          nameLabel: "Nom", namePlaceholder: "Comment vous appeler",
          companyLabel: "Société", companyPlaceholder: "Nom de la société",
          emailLabel: "Email", phoneLabel: "Téléphone",
          interestLabel: "Qu'est-ce qui compte le plus maintenant",
          consent: "J'accepte le traitement des données et de recevoir des rappels",
          preview: "Aperçu", submit: "Envoyer", ics: "Ajouter au calendrier"
        },
        audit: { title: "Combien de clients pouvez-vous récupérer ce mois ?", text: "Demandez un audit gratuit.", btn: "Demander un audit" },
        whatyouget: { title: "Ce que vous obtenez", pdf: "Plan PDF 30 jours", scripts: "Scripts de confiance", kpi: "Tableau KPI" },
        finalCTA: "Prêt à arrêter de perdre des clients ?",
        finalCTABtn: "Obtenir le plan",
        privacy: "Politique de confidentialité",
        preview: { title: "Aperçu", name: "Nom:", company: "Société:", email: "Email:", phone: "Téléphone:", interest: "Intérêt:", edit: "Modifier", confirm: "Confirmer & envoyer" },
        toast: "Fait",
        days: "jours", hours: "heures", minutes: "minutes", seconds: "secondes",
        dateHint: "Prochain départ : 6 décembre 2025"
      }
    }; // end translations

    // helper to get deep keys or fallback
    function t(lang, path, fallback='') {
      const parts = path.split('.');
      let cur = translations[lang];
      for (const p of parts) {
        if (!cur) return fallback;
        cur = cur[p];
      }
      return cur ?? fallback;
    }

    // ===== LANGUAGE HANDLING =====
    const selector = document.getElementById('langSelector');
    function detectInitialLang(){
      // priority: localStorage -> navigator.language -> default 'en'
      const stored = localStorage.getItem(STORAGE_KEY);
      if(stored && translations[stored]) return stored;
      const nav = (navigator.language || navigator.userLanguage || 'en').slice(0,2);
      if(translations[nav]) return nav;
      // fallback to 'en'
      return 'en';
    }

    let currentLang = detectInitialLang();
    selector.value = currentLang;

    function applyTranslations(lang){
      currentLang = lang;
      document.documentElement.lang = lang;
      // meta title & description
      const metaTitle = t(lang, 'metaTitle', '');
      if(metaTitle) document.title = metaTitle;
      const metaDesc = t(lang, 'metaDesc', '');
      if(metaDesc){
        const m = document.querySelector('meta[name="description"]');
        if(m) m.content = metaDesc;
      }

      // apply all data-i18n text nodes
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        // support nested keys like hero.title
        const val = (key.indexOf('.')>-1) ? t(lang,key,'') : ( (t(lang, key) !== '') ? t(lang,key) : t(lang, key) );
        if(val !== '') el.textContent = val;
      });

      // placeholders for inputs with data-i18n-placeholder
      document.querySelectorAll('[data-i18n-placeholder]').forEach(inp=>{
        const key = inp.getAttribute('data-i18n-placeholder');
        const v = t(lang,key,'');
        if(v) inp.placeholder = v;
      });

      // select options: use specific keys for options (we set data-i18n on <option>)
      document.querySelectorAll('option[data-i18n]').forEach(opt=>{
        const key = opt.getAttribute('data-i18n');
        const v = t(lang, key, opt.textContent);
        opt.textContent = v;
      });

      // update timer text (it uses translations[currentLang].days/hours..)
      renderTimer(); // re-render with new labels

      // date hint (explicit)
      const dateHint = document.querySelector('[data-i18n="hero.dateHint"]') ? t(lang, 'hero.dateHint','') : '';
      const dateHintEl = document.getElementById('date-hint');
      if(dateHintEl) dateHintEl.textContent = dateHint;

      localStorage.setItem(STORAGE_KEY, lang);
    }

    selector.addEventListener('change', (e)=>{
      applyTranslations(e.target.value);
    });

    // initial apply
    applyTranslations(currentLang);

    // ===== TIMER =====
    const targetDate = new Date(TIMER_TARGET_ISO);
    const $timer = document.getElementById('countdown');

    function pad(n){ return String(n).padStart(2,'0'); }

    function renderTimer(){
      const diff = targetDate - new Date();
      if(!$timer) return;
      if(diff <= 0){
        $timer.innerHTML =
          `<div class="tbox"><strong>00</strong><span>${t(currentLang,'days','days')}</span></div>` +
          `<div class="tbox"><strong>00</strong><span>${t(currentLang,'hours','hours')}</span></div>` +
          `<div class="tbox"><strong>00</strong><span>${t(currentLang,'minutes','minutes')}</span></div>` +
          `<div class="tbox"><strong>00</strong><span>${t(currentLang,'seconds','seconds')}</span></div>`;
        return;
      }
      let ms = diff;
      const d = Math.floor(ms / 86400000); ms -= d*86400000;
      const h = Math.floor(ms / 3600000); ms -= h*3600000;
      const m = Math.floor(ms / 60000); ms -= m*60000;
      const s = Math.floor(ms / 1000);

      const daysLabel = t(currentLang,'days','days');
      const hoursLabel = t(currentLang,'hours','hours');
      const minutesLabel = t(currentLang,'minutes','minutes');
      const secondsLabel = t(currentLang,'seconds','seconds');

      $timer.innerHTML =
        `<div class="tbox"><strong>${pad(d)}</strong><span>${daysLabel}</span></div>` +
        `<div class="tbox"><strong>${pad(h)}</strong><span>${hoursLabel}</span></div>` +
        `<div class="tbox"><strong>${pad(m)}</strong><span>${minutesLabel}</span></div>` +
        `<div class="tbox"><strong>${pad(s)}</strong><span>${secondsLabel}</span></div>`;
    }

    renderTimer();
    setInterval(renderTimer, 1000);

    // ===== Preview modal logic (kept as in original) =====
    const form = document.getElementById('lead');
    const modal = document.getElementById('previewModal');
    document.getElementById('previewBtn').addEventListener('click', ()=>{
      const fd = new FormData(form);
      if(fd.get('_hp')) return;
      document.getElementById('pv_name').textContent = fd.get('name') || '-';
      document.getElementById('pv_company').textContent = fd.get('company') || '-';
      document.getElementById('pv_email').textContent = fd.get('email') || '-';
      document.getElementById('pv_phone').textContent = fd.get('phone') || '-';
      document.getElementById('pv_interest').textContent = fd.get('interest') || '-';
      if(typeof modal.showModal === 'function') modal.showModal(); else modal.setAttribute('open','');
    });
    document.getElementById('editBtn').addEventListener('click', ()=>{ if(modal.open) modal.close(); else modal.removeAttribute('open'); });
    document.getElementById('confirmBtn').addEventListener('click', async ()=>{
      const evt = new Event('submit',{cancelable:true});
      if(modal.open) modal.close(); else modal.removeAttribute('open');
      form.dispatchEvent(evt);
    });

    // ===== Form submit handling (kept original behaviour with fetch fallback) =====
    const utm = Object.fromEntries(new URLSearchParams(location.search).entries());
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const fd = new FormData(form);
      if(fd.get('_hp')) return;
      fd.append('webinar_date', targetDate.toISOString());
      Object.entries(utm).forEach(([k,v])=>fd.append(k,v));
      const targetUrl = form.action;
      try{
        const resp = await fetch(targetUrl, { method:'POST', body: fd });
        if(resp && resp.ok){
          showToast(t(currentLang,'toast','Done'));
          form.reset();
        } else {
          showToast(t(currentLang,'toast','Done'));
          form.reset();
          console.warn('Form response', resp);
        }
      } catch(err){
        console.error('Form send error', err);
        try{ form.submit(); }catch(e){ showToast(t(currentLang,'toast','Done')); }
      }
    });

    // ICS button
    document.getElementById('ics').addEventListener('click', ()=>{
      const dt = targetDate;
      const start = dt.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
      const end = new Date(dt.getTime()+60*60*1000).toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
      const ics = ['BEGIN:VCALENDAR','VERSION:2.0','PRODID:-//Retenly//Webinar','BEGIN:VEVENT',`UID:${Date.now()}@retenly`,`DTSTAMP:${start}`,`DTSTART:${start}`,`DTEND:${end}`,'SUMMARY:Retenly: Webinar','DESCRIPTION:Trustful calls, reactivation, LTV growth','END:VEVENT','END:VCALENDAR'].join('\r\n');
      const blob = new Blob([ics],{type:'text/calendar'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'Retenly-webinar.ics'; a.click(); URL.revokeObjectURL(url);
    });

    // JSON-LD (event)
    (function(){
      const ld = {"@context":"https://schema.org","@type":"EducationEvent","name":"Retenly: Webinar","eventAttendanceMode":"https://schema.org/OnlineEventAttendanceMode","eventStatus":"https://schema.org/EventScheduled","startDate":targetDate.toISOString(),"location":{"@type":"VirtualLocation","url":"https://Retenly.example/webinar"},"description":"How to bring back sleeping clients, increase LTV and run trustful calls.","organizer":{"@type":"Organization","name":"Retenly"}};
      const s = document.createElement('script'); s.type='application/ld+json'; s.text = JSON.stringify(ld); document.head.appendChild(s);
    })();

    // toast
    function showToast(msg){
      const t = document.getElementById('toast');
      t.textContent = msg || 'Done';
      t.style.opacity = '1'; t.style.transform = 'translateX(-50%) scale(1)';
      setTimeout(()=>{ t.style.opacity = '0'; t.style.transform = 'translateX(-50%) scale(.96)'; }, 3200);
    }

    // final: ensure language selector shows stored value
    selector.value = currentLang;
  </script>
</body>
</html>
